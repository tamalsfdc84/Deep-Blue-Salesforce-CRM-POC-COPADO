<apex:page controller="tffa.DueDiligenceReportController"
  action="{!init}"
  showHeader="false"
  sidebar="false"
  applyHtmlTag="false"
  applyBodyTag="false"
>
  <html>
    <head>
      <title>{!title}</title>
    </head>
    <body>
      <apex:pageMessages />
      <apex:outputPanel rendered="{!fileType == 'HTML'}" layout="block" styleClass="html-preview">
        <style>
          body {
            background-color: #404040;
            margin: 0;
            padding: 0;
          }
          .html-preview-body {
            margin: 0 auto;
            background-color: white;
            height: 100%;
          }
          .html-preview-header {
            background-color: #323639;
            display: flex;
            padding: 10px 40px;
            margin-bottom: 10px;
            justify-content: space-between;
          }
          @media (min-width: 992px) {
            .html-preview-body {
              width: 816px;
            }
          }
          .button-icon {
            padding: 0;
            background: transparent;
            border: 1px solid transparent;
            cursor: pointer;
          }
          .svg-icon {
            width: 1.5rem;
            height: 1.5rem;
            fill: #fff;
          }
          @media print {
            .html-preview-header {
              display: none;
            }
            .html-preview-body {
              width: 100%;
            }
          }
        </style>
        <div class="html-preview-header">
          <div></div>
          <div>
            <button class="button-icon" title="Print" aria-label="Print" onclick="window.print();">
              <!-- replace this once print icon is available via /apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#print -->
              <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="print">
                <path
                  d="M21.5 8h-19c-1 0-1.8.9-1.8 1.9v6.4c0 1.1.8 1.9 1.8 1.9h2.8v2.7c0 1 .8 1.8 1.8 1.8h9.8c1.1 0 1.9-.8 1.9-1.8v-2.7h2.7c1 0 1.9-.8 1.9-1.9V9.9c-.1-1-.9-1.9-1.9-1.9zM3.8 12.8c-.8 0-1.4-.6-1.4-1.4S3 10 3.8 10s1.4.6 1.4 1.4-.6 1.4-1.4 1.4zm12.8 7.1c0 .4-.4.7-.7.7H8c-.3 0-.7-.3-.7-.7v-4.5c0-.4.4-.7.7-.7h7.9c.3 0 .7.3.7.7v4.5zm2.1-14.8c0 .4-.3.7-.7.7H5.9c-.4 0-.7-.3-.7-.7V2c0-.4.3-.7.7-.7H18c.4 0 .7.3.7.7v3.1z"
                ></path>
              </svg>
            </button>
          </div>
        </div>
        <div class="html-preview-body">
          <apex:dynamicComponent componentValue="{!data}" />
        </div>
      </apex:outputPanel>
      <apex:outputPanel rendered="{!fileType == 'PDF'}" layout="block" styleClass="pdf-preview">
        <iframe src="{!dataUrl}" width="100%" height="1667px" sandbox=""></iframe>
      </apex:outputPanel>
    </body>
  </html>
</apex:page>